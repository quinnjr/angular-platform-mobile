<header class="header">
  <button class="menu-toggle" (click)="toggleSidebar()">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </button>

  <a routerLink="/" class="logo">
    <svg class="logo-icon" viewBox="0 0 24 24" fill="none">
      <path d="M12 2L2 7l10 5 10-5-10-5z" fill="url(#logo-gradient)"/>
      <path d="M2 17l10 5 10-5M2 12l10 5 10-5" stroke="url(#logo-gradient)" stroke-width="2" stroke-linecap="round"/>
      <defs>
        <linearGradient id="logo-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" stop-color="#dd0031"/>
          <stop offset="100%" stop-color="#8800ff"/>
        </linearGradient>
      </defs>
    </svg>
    <span class="logo-text">Angular Platform Mobile</span>
  </a>

  <nav class="header-nav">
    <a href="https://github.com/PegasusHeavyIndustries/angular-platform-android" target="_blank" rel="noopener" class="header-link">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
      </svg>
      GitHub
    </a>
    <a href="https://www.npmjs.com/package/@pegasusheavy/angular-platform-mobile" target="_blank" rel="noopener" class="header-link">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
        <path d="M0 0v24h24V0H0zm6.672 19.992H3.984V6.672h2.688v13.32zm6.672 0H8.016V6.672h5.328v10.632h-2.688v2.688h2.688zm6.672 0h-5.328v-2.688h2.64V6.672h2.688v13.32z"/>
      </svg>
      npm
    </a>
  </nav>
</header>

<div class="layout" [class.sidebar-closed]="!sidebarOpen">
  <aside class="sidebar">
    <nav class="sidebar-nav">
      @for (item of navigation; track item.path) {
        @if (item.children) {
          <div class="nav-section">
            <button
              class="nav-section-header"
              (click)="toggleSection(item.title)"
              [class.expanded]="expandedSections.has(item.title)">
              <span class="nav-icon">{{ item.icon }}</span>
              <span class="nav-title">{{ item.title }}</span>
              <svg class="nav-chevron" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </button>
            @if (expandedSections.has(item.title)) {
              <div class="nav-children">
                @for (child of item.children; track child.path) {
                  <a
                    [routerLink]="child.path"
                    routerLinkActive="active"
                    [routerLinkActiveOptions]="{exact: true}"
                    class="nav-link nav-child">
                    {{ child.title }}
                  </a>
                }
              </div>
            }
          </div>
        } @else {
          <a
            [routerLink]="item.path"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{exact: true}"
            class="nav-link">
            <span class="nav-icon">{{ item.icon }}</span>
            <span class="nav-title">{{ item.title }}</span>
          </a>
        }
      }
    </nav>

    <div class="sidebar-footer">
      <div class="version">v1.0.0</div>
      <div class="platform-badges">
        <span class="badge android">Android</span>
        <span class="badge ios">iOS</span>
      </div>
    </div>
  </aside>

  <main class="main-content">
    <router-outlet />
  </main>
</div>
